{% extends "base.html" %}
{% block title %}{{ _('auth.login.title') }}{% endblock %}
{% block content %}
{% if available_locales %}
    <div class="d-flex justify-content-end mb-3">
        <form method="get" class="d-inline-flex align-items-center gap-2">
            {% for key, value in request.args.items() %}
                {% if key != 'lang' %}
                    <input type="hidden" name="{{ key }}" value="{{ value }}">
                {% endif %}
            {% endfor %}
            <label class="form-label mb-0 small text-uppercase" for="login-language-select">{{ _('app.language.label') }}</label>
            <select id="login-language-select" name="lang" class="form-select form-select-sm w-auto {{ 'bg-dark text-light border-secondary' if theme != 'light' else '' }}" onchange="this.form.submit()" aria-label="{{ _('app.language.label') }}" style="min-width: 7rem;">
                {% for locale in available_locales %}
                    <option value="{{ locale }}" {% if locale == current_locale %}selected{% endif %}>{{ _('app.language.option.' ~ locale) }}</option>
                {% endfor %}
            </select>
        </form>
    </div>
{% endif %}
<h1 class="mb-4">{{ _('auth.login.heading') }}</h1>
<form method="post">
    {{ form.hidden_tag() }}
    <div class="mb-3">
        {{ form.email.label(class="form-label") }}
        {{ form.email(class="form-control") }}
    </div>
    <div class="mb-3">
        {{ form.password.label(class="form-label") }}
        {{ form.password(class="form-control") }}
    </div>
    <div class="mb-3 form-check">
        {{ form.remember_me(class="form-check-input") }}
        {{ form.remember_me.label(class="form-check-label") }}
    </div>
    {{ form.submit(class="btn btn-primary") }}
</form>
{% endblock %}
