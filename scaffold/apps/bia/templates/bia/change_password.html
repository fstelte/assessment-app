{% extends "base.html" %}
{% block title %}{{ _('bia.change_password.title') }}{% endblock %}
{% block content %}
<div class="mb-5">
  <a href="{{ url_for('bia.dashboard') }}" class="text-[var(--color-muted)] hover:text-[var(--color-text)] no-underline flex items-center gap-1 transition-colors">
    <span>&larr;</span> {{ _('bia.dashboard.back') }}
  </a>
</div>

<div class="flex justify-center">
  <div class="w-full sm:w-2/3 md:w-1/2 lg:w-1/3">
    <div class="bg-[var(--color-card)] border border-[var(--color-border)] rounded-xl shadow-card overflow-hidden">
      <div class="px-6 py-4 border-b border-[var(--color-border)] bg-[var(--color-surface)]">
        <h1 class="text-lg font-bold mb-0 text-[var(--color-text)]">{{ _('bia.change_password.heading') }}</h1>
      </div>
      <div class="p-6">
        <form method="post" action="{{ url_for('bia.change_password') }}" class="flex flex-col gap-4">
          {{ form.hidden_tag() }}
          
          <div>
            {{ form.current_password.label(class="block text-sm font-medium mb-1.5 text-[var(--color-text)]") }}
            <div class="relative">
              {{ form.current_password(class="w-full bg-[var(--color-surface)] border border-[var(--color-border)] rounded-lg px-3.5 py-2.5 text-[var(--color-text)] transition focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/30", autocomplete="current-password") }}
            </div>
            {% if form.current_password.errors %}
              <div class="text-xs mt-1 text-red-500">{{ form.current_password.errors | join(', ') }}</div>
            {% endif %}
          </div>
          
          <div>
            {{ form.new_password.label(class="block text-sm font-medium mb-1.5 text-[var(--color-text)]") }}
            {{ form.new_password(class="w-full bg-[var(--color-surface)] border border-[var(--color-border)] rounded-lg px-3.5 py-2.5 text-[var(--color-text)] transition focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/30", autocomplete="new-password") }}
            {% if form.new_password.errors %}
              <div class="text-xs mt-1 text-red-500">{{ form.new_password.errors | join(', ') }}</div>
            {% else %}
               <div class="text-xs text-[var(--color-muted)] mt-1">Must be at least 8 characters long.</div>
            {% endif %}
          </div>
          
          <div>
            {{ form.confirm_password.label(class="block text-sm font-medium mb-1.5 text-[var(--color-text)]") }}
            {{ form.confirm_password(class="w-full bg-[var(--color-surface)] border border-[var(--color-border)] rounded-lg px-3.5 py-2.5 text-[var(--color-text)] transition focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/30", autocomplete="new-password") }}
            {% if form.confirm_password.errors %}
              <div class="text-xs mt-1 text-red-500">{{ form.confirm_password.errors | join(', ') }}</div>
            {% endif %}
          </div>
          
          <div class="flex justify-end pt-2 mt-2">
            {{ form.submit(class="inline-flex items-center justify-center font-medium rounded-md px-6 py-2.5 text-sm transition-colors border border-transparent bg-primary-600 text-white hover:bg-primary-700 shadow-sm cursor-pointer w-full sm:w-auto") }}
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
